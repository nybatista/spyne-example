!function(e){function t(t){for(var a,r,i=t[0],d=t[1],l=t[2],p=0,u=[];p<i.length;p++)r=i[p],o[r]&&u.push(o[r][0]),o[r]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);for(c&&c(t);u.length;)u.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,i=1;i<n.length;i++){var d=n[i];0!==o[d]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},o={1:0},s=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var i=window.webpackJsonp=window.webpackJsonp||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=d;s.push([183,0]),n()}({183:function(e,t,n){"use strict";n.r(t);n(5);var a=n(76);class o extends a.a{constructor(e={}){e.id="page-control",e.className="null-view",super(e)}addActionListeners(){return[]}broadcastEvents(){return[]}afterRender(){}}class s extends a.a{constructor(e={}){e.tagName="article",e.class="photogs-view",e.template=n(184),super(e)}addActionListeners(){return[]}broadcastEvents(){return[["dl","click"]]}afterRender(){}}const r=n(5);class i extends a.a{constructor(e={}){e.tagName="section",e.class="page-content",e.id="photogs-container",super(e)}addActionListeners(){return[]}broadcastEvents(){return[]}loadImages(e){this.props.data=r.prop("channelPayload",e);this.userData=this.props.data.map(e=>e.user),this.userData=function(e,t){return e.filter((e,n,a)=>a.map(e=>e[t]).indexOf(e[t])===n)}(this.userData,"id"),this.userData.forEach(e=>{this.appendView(new s({data:e}))})}afterRender(){this.getChannel("ChannelData500px").take(1).subscribe(this.loadImages.bind(this))}}var d=n(182);class l extends a.a{constructor(e={}){e.tagName="article",e.template=n(185),super(e)}addActionListeners(){return[["CHANNEL_ROUTE_CHANGE_EVENT","onRouteChangeEvent"]]}broadcastEvents(){return[["article dl","click"]]}onRouteChangeEvent(e){}onAnimate(e){this.props.el$.addClass("expand");const t=this.props.el.offsetTop+45;let n=document.querySelector("html");const a=window.pageYOffset;(()=>{this.hideOverflow(!0),window.pageYOffset=0;const e=`top:${-1*a}px;`;n.style.cssText=e,console.log({elHtml:n,styleStr:e,topNum:t})})(),d.a.to(n,.3,{top:-1*t,ease:Sine.easeInOut})}hideOverflow(e=!0){document.querySelector("html").classList.toggle("expand",e)}afterRender(){(()=>{let e=this.props.el$.query("img").el;this.hideOverflow(!1);e.onload=(t=>{void 0!==this&&void 0!==this.props?(e.classList.add("reveal"),this.props.el$.query("aside").el.remove(),e.onload=(()=>{}),e=void 0):(e.onload=(()=>{}),e=void 0)})})(),(()=>{this.addChannel("ROUTE")})()}}class c extends a.a{constructor(e={}){e.tagName="section",e.class="page-content",e.id="images-container",super(e)}addActionListeners(){return[]}broadcastEvents(){return[]}loadImages(e){this.photosData=e.channelPayload;this.photosData.forEach((e,t)=>{e.indexNum=t+1,this.appendView(new l({data:e}))})}afterRender2(){}afterRender(){this.getChannel("ChannelData500px").take(1).subscribe(this.loadImages.bind(this))}}class p extends a.a{constructor(e={}){e.tagName="section",e.class="empty",e.template=n(187),super(e)}addActionListeners(){return[["CHANNEL_UI_CLICK_EVENT","onClicked"]]}onClicked(e){console.log("item is clicked "),this.props.el$.query("article").setActiveItem("article","test1")}broadcastEvents(){return[["button#testbtn","click"]]}afterRender(){this.addChannel("UI")}}class u extends a.a{constructor(e={}){e.class="page-view",e.pageId=e.routeInfo.keywords.pageId,super(e),this.disposeReady=!1}getPageType(e){return{home:p,gallery:c,photographers:i}[e]||p}addActionListeners(){return[["CHANNEL_ROUTE_CHANGE_EVENT","onRouteChangeEvent"]]}broadcastEvents(){return[]}onRouteChangeEvent(e){const t=R.path(["channelPayload","keywords","pageId"],e),n=this.props.pageId===t;!1===n&&(console.log("dispose is ready",e,{routePageId:t,isNotCurrentPageId:n}),this.onDispose()),this.disposeReady=!0}getLocationVal(){let e=window.location.pathname;if(e.length>1){const t=/^\//g;e=e.replace(t,"")}return e}afterRender(){console.log("page view route info ",this.props.routeInfo);this.props.routeInfo.keywords.pageId;const e=this.getPageType(this.props.pageId);this.appendView(new e),this.addChannel("ROUTE")}}n(5);class h extends a.a{constructor(e={}){e.id="pages-holder",e.class="stage",super(e)}addActionListeners(){return[["CHANNEL_ROUTE.*","onRouteChangeEvent"],["CHANNEL_UI.*","onUIEvent"],["CHANNEL_WINDOW.*","onDomChannel"]]}broadcastEvents(){return[]}onUIEvent(e){this.isLocalEvent(e)?console.log("LCOAL EVENT ",e):console.log("GLOBAL EVENT ",e)}onDomChannel(e){console.log("CHANNEL WINDOW ",this.isLocalEvent(e))}onRouteDeepLink(e){console.log("route deep link ",e,this.isLocalEvent(e))}onRouteChangeEvent(e){const t=e.channelPayload;console.log("route info ",t);t.pageId;this.appendView(new u({routeInfo:t}))}afterRender(){(new o).appendToNull(),this.addChannel("ROUTE"),this.addChannel("UI"),this.addChannel("WINDOW")}}n(5);class g extends a.a{constructor(e={}){e.tagName="section",e.id="menu",e.template=n(188),super(e)}addActionListeners(){return[["SCROLL_EVENT","onScrollEvent"]]}broadcastEvents(){return[]}onScrollEvent(e){console.log("scroll event is ",e);const t=e.scrollY>=45;this.props.el.classList.toggle("hide",t)}afterRender(){}}var m=n(16),f=n(77);console.log("loaded"),n(485).polyfill();n(494);const v={channels:{WINDOW:{mediqQueries:{test:"screen and (max-width:500px)",newTest:"screen and (max-width:800px)"}},ROUTE:{type:"slash",isHash:!0,isHidden:!1,routes:{route:{keyword:"pageId",home:"",images:{route:{keyword:"imageNum",route:{keyword:"author"}}},photographers:{route:{keyword:"photogNum"}},"page-.*":{route:{keyword:"randomNum"}}}}}}};window.onStartApp=function(){console.log("polys are loaded");const e=/^(https:)(.*)$/,t={dataUrl:"https://api.unsplash.com/search/photos/?client_id=68f7ee84bd1d1bbcecf2692172b48c28704e2108c23d7d1d9fc7049a7ece12ae&page=1&query=landscape",name:"ChannelData500px",map:t=>{return t.photos=s.map(t=>(t.description=null===t.description?"untitled":t.description,t.perpsectiveNum=String(t.height/t.width*100+"%"),t.image_url=t.urls.full,t.user.userpic_url=String(t.user.profile_image.large).replace(e,"$2"),console.log("img is ",t.userpic_url),t),t.results),t.photos}};new m.a(v).registerDataChannel(new f.a(t));new class extends a.a{constructor(e={}){super(e)}addActionListeners(){return[["CHANNEL_ROUTE_*","onChannelRouteEvent"]]}broadcastEvents(){return[[".nav-btn","click"],[".nav-btn-ui","click"]]}onChannelRouteEvent(e){console.log("route event ",e)}testSendPayload(){}afterRender(){this.appendView(new g),this.appendView(new h),this.testSendPayload(),this.addChannel("ROUTE"),this.getChannel("WINDOW").subscribe(e=>{console.log("window event  ",e.action,e)}),this.getChannel("ChannelData500px").subscribe(e=>{console.log("data ",e)})}}({el:document.getElementById("example-app")});const o=n(58),s=n(5);window.R=s,window.Rx=o};const E=()=>{!0===window.polysAreLoaded?onStartApp():window.setTimeout(E,100)};E()},184:function(e,t){e.exports='<dl data-channel="ROUTE" data-page-id="photographers" data-photog-num="3">\n    <dt>\n        <img src="{{userpic_url}}" />\n        <span>{{username}}</span>\n    </dt>\n    <dd>\n        <header>\n\n            <h3>{{name}}</h3>\n        </header>\n\n\n    </dd>\n\n</dd>\n'},185:function(e,t){e.exports='\n\n<dl data-channel="ROUTE" data-route-val="page-one/{{indexNum}}" data-page-id="page-one" data-image-num ={{indexNum}} data-name="{{name}}" data-description="{{description}}">\n    <dt class="card-header image" style=\'padding-bottom:{{perpsectiveNum}};\'>\n        <aside class=\'spinner\'></aside>\n        <img src="{{image_url}}" width="{{width}}" height="auto" />\n        <span>{{name}}</span>\n    </dt>\n    <dd class="card-content image">\n        <p>{{description}}</p>\n    </dd>\n</dl>\n'},187:function(e,t){e.exports='<article class="test">\n    <h3>Example App Homepage 07/15/18 02:12am</h3>\n    <button id="testbtn">CLICK BTN</button>\n</article>\n'},188:function(e,t){e.exports='<header id="navbar">\n\n    <h4 data-channel="ROUTE"  data-page-id="home" class="nav-btn home-btn">App</h4>\n    <h6 data-channel="ROUTE"  data-page-id="gallery" class="nav-btn page-btn">gallery</h6>\n    <h6 data-channel="ROUTE"  data-page-id="photographers" class="nav-btn page-btn">photographers</h6>\n    <h6 data-channel="UI" data-route-val="/ui" data-page-id="test-ui" class="nav-btn page-btn">TEST UI</h6>\n    <h6 data-channel="UI" data-route-val="/ui-btn" data-page-id="ui-btn" class="nav-btn-ui page-btn">UI Btn</h6>\n\n</header>\n'},494:function(e,t){}});